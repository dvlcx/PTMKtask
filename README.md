
# ПТМК

Общие требования:
- Написать приложение, которое будет запускаться из консоли с параметрами. Первый параметр, передаваемый при запуке, выбирает режим работы приложения соответствующий пункту задания. По ходу задания будут примеры запуска приложения.
- Для ФИО использовать английский язык. Решать проблему с отображением русского языка в консоли, если возникает, не нужно.
- Приложение должно подключаться к базе данных.
- В качестве СУБД можно использовать любую SQL СУБД или MongoDB.
- В разработке приложения обязательно применять объектно-ориентированный подход.
- В качестве среды разработки можете использовать любой известный вам объектно-ориентированный язык программирования.

## О приложении
Использовано SQLite. Файл с базой - TaskDatabase.db.
Для коммуникации с базой использовано ADO.NET.
names.txt - Файл с различными именами, для заполнения базы (четвёртый пункт).

- Program.cs - основной класс.
- Employee.cs - класс работника. Имеет метод для подсчёта возраста.
- Gender.cs - enum для пола работника.
- RandomDataGenerator.cs - класс для генерации работников (четвёртый пункт).

## Примеры

#### 1. Создание таблицы с полями справочника сотрудников, представляющими "Фамилию Имя Отчество", "дату рождения", "пол". Метод: CreateEmployeesTable().

В случае, если таблица уже имеется - пользователь будет уведомлён, а таблица не будет создана.

Также для таблицы создаётся индекс по двум столбцам (по которым мы фильтруем в пункте 5).
![App Screenshot](https://github.com/dvlcx/PTMKtask/blob/master/readme/1.png)
___
#### 2. Создание записи справочника сотрудников. Метод: InsertDirectly(string fullName, string dateOfBirth, string genderString).

Присутствует простая валидация аргументов: проверка их количества и качества введённых даты и пола.
![App Screenshot](https://github.com/dvlcx/PTMKtask/blob/master/readme/2.png)
___
#### 3. Вывод всех строк справочника сотрудников, с уникальным значением ФИО+дата, отсортированным по ФИО. Метод: ListAllUnique().
![App Screenshot](https://github.com/dvlcx/PTMKtask/blob/master/readme/3.png)

___
#### 4. Заполнение автоматически 1000000 строк справочника сотрудников. Метод: PopulateTable().
Таблица заполняется долго, но всегда можно остановить заполнение. В прикреплённом файле базы данных около 80 000 записей (очень спешу сдать вам это задание!). За выбор имён/пола/даты рождения работника отвечает класс RandomDataGenerator. Имена он берёт из файла names.txt.
![App Screenshot](https://github.com/dvlcx/PTMKtask/blob/master/readme/4.png)

___
#### 5.  Результат выборки из таблицы по критерию: пол мужской, Фамилия начинается с "F".  Метод: Filter().
Вот пример роботы до создания индекса:
![App Screenshot](https://github.com/dvlcx/PTMKtask/blob/master/readme/5.1.png)
Создаём:
![App Screenshot](https://github.com/dvlcx/PTMKtask/blob/master/readme/5.2.png)
И после: 
![App Screenshot](https://github.com/dvlcx/PTMKtask/blob/master/readme/5.3.png)

Разница очевидна. Время исполнения действительно уменьшилось. Для оптимизации индекс теперь создаётся сразу после таблицы в методе CreateEmployeesTable.
